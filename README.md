# Rails 7 Docker イメージ最適化プロジェクト

## プロジェクト概要
このプロジェクトは、Rails7アプリケーションのDockerイメージサイズを削減するための様々な戦略を試し、比較することを目的としています。  
イメージサイズの削減は、デプロイメントの速度向上、セキュリティリスクの低減、およびストレージコストの削減に寄与します。  
このリポジトリでは、標準のRubyイメージ、Slimバージョン、Alpineバージョンを使用し、さらにRailsプロジェクトの最適化とマルチステージビルドを適用した各環境を比較しています。

## ディレクトリ構造
このリポジトリでは、使用されているRubyとRailsのバージョン、Rubyイメージの種類、および適用された最適化戦略に基づいてディレクトリ名が命名されています。以下の規則に従っています：

- 基本形式: `rails-{Railsバージョン}_ruby-{Rubyバージョン}[_variant][_strategy]`
    - `{Railsバージョン}`: 使用しているRailsのバージョン（例: `7-1-3`はRails 7.1.3を示す）。
    - `{Rubyバージョン}`: 使用しているRubyのバージョン（例: `3-2-3`はRuby 3.2.3を示す）。
    - `variant`（オプション）:
      - 空白: 標準のRubyイメージを使用。
      - `slim`: SlimバージョンのRubyイメージを使用。
      - `alpine`: AlpineバージョンのRubyイメージを使用。
  - `strategy`（オプション）:
      - `multistage`: マルチステージビルドを適用。
      - `optimized`: Railsプロジェクトの最適化を適用。
      - `multistage_optimized`: マルチステージビルドとRailsプロジェクトの最適化を両方適用。

この命名規則に基づいて、プロジェクト内の各ディレクトリの内容が識別できます。例えば、`rails7-1-3_ruby-3-2-3-alpine_multistage`ディレクトリは、Rails 7.1.3とRuby 3.2.3を使用し、AlpineバージョンのRubyイメージにマルチステージビルドが適用された環境を示します。

## 使用方法
各ディレクトリには、その環境特有のセットアップ手順、ビルド方法、および実行方法について詳しく記載された `README.md` ファイルが含まれています。  
特定の環境で作業を開始する前に、対応するディレクトリの `README.md` を参照してください。
